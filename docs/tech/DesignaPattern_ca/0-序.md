---
tags:
    - Design Pattern
---

::: info Introduction
https://zhuanlan.zhihu.com/p/24614363
:::

::: warning
真🔪实枪的写代码了。。。 现在对c++的最新特性还不算了解，像module 和 concept 等，可以先写一些概念，后续再补充示例代码。
:::

**TODO：后续补充实例代码** 

## 什么是设计模式

设计模式 是复用面向对象设计的经验，在面向对象软件设计中，设计模式（design pattern）是对软件设计中普遍存在（反复出现）的各种问题，所提出的解决方案。设计模式所解决的问题是一般的设计问题，具体是类和相互通信的描述。

> 每一个模式描述了在我们周围不断重复发生的问题，以及该问题的解决方案的核心。这样，你就能一次又一次地使用该方案而不必做重复劳动。

设计模式有4个基本要素：
1. 模式名称 (Pattern Name) 
2. 问题 (Problem) 描述了何时使用模式
3. 解决方案 (Solution) 描述了设计的组成成分，它们之间的相互关系及各自的职责和协作方式
4. 效果 (Consequences) 描述了模式应用的效果及使用模式应权衡的问题。模式效果包括它对系统的灵活性、扩充性或可移植性的影响，以及它对系统复杂性、可理解性或运行效率的影响。

## 设计模式分类

设计模式分为三大类： 创建型模式(Creational)、结构型模式(Structural)、行为型模式(Behavioral)。

**Abstract Factory 抽象工厂模式**: 提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。
**Builder 建造者模式**: 将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。

## 设计模式如何解决问题

###  1. 寻找合适的对象
 
 面向对象设计最困难的部分是将系统分解成对象集合。因为要考虑许多因素：封装、粒度、依赖关系、灵活性、性能、演化、复用等，它们都影响着系统的分解，并且这些因素通常还是相互冲突的。

 设计模式帮你确定并不明显的抽象和描述这些抽象的对象。

### 2. 决定对象的粒度

### 3. 指定对象接口

**名词**

- 型构(signature)
- 接口(interface)
- 类型 (type)
  - 子类型(subtype)
  - 超类型(supertype)
- 多态 (polymorphism)
- 动态绑定(dynamic binding)   
在面向对象系统中，接口是基本的组成部分。接口和实现是分离的，两个具有相同接口的对象可以有完全不同的实现。

### 4. 描述对象的实现

类(class)和类型(type)的差别。类定义了对象是如何实现的，类型只与对象的接口有关。一个对象可以有多个类型，不同类的对象可以有相同的类型。
实现继承和接口继承。大部分语言并不区分这两者之间的区别，c++中，纯接口继承接近于共有继承纯抽象类，纯实现继承或纯类继承接近于私有继承。

**对接口编程，而不是对实现编程** 这种思想天然的导向减少系统之间的依赖关系。

### 5. 运用复用机制

复用：
- 继承和组合。 **优先使用对象组合，而不是类继承**
- 委托
- 参数化类型 (parameterized type) generic 或者 templates


软件设计的三个方向：

1. 应用程序 (application)
2. 工具箱 (toolkit)
3. 框架 (framework)

写框架更难，设计模式能够帮助理解框架，设计模式和框架之间的关系： 设计模式比框架更加抽象，框架比设计模式更加特例化，设计模式是比框架更小的体系结构元素。

## 选择设计模式


- 考虑设计模式是怎样解决设计问题的
- 浏览模式的意图部分
- 研究目的相似的模式
- 检查重新设计的原因
- 考虑你的设计中那些是可变的

## 使用设计模式

- 大致浏览一遍设计模式
- 回头研究结构部分、参与者部分和协作部分
- 看代码示例部分，看看这个模式代码形式的具体例子
- 选择模式参与者的名字，使它们在应用上下文中有意义
- 定义类
- 定义模式中专用于应用的操作名称
- 实现执行模式中责任和协作的操作

设计模式的使用限制： 只有需要设计模式的时候才去使用设计模式，设计模式提供了灵活性，但是它让设计变得更复杂或者牺牲了一定的性能。





