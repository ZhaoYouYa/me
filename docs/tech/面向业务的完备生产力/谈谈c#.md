---
tags:
    - dotnet
keys:
    - c#
---
::: info Introduction

我对csharp的一些看法。

:::

C#是微软出的一个字节码，托管语言(.net 平台)。最初只能在windows上运行，几年前，具备了跨平台能力。微软建立了 .Net Foundation 试图摆脱.net 只属于微软，只属于windows的印象。

我是从c++ 开始进入编程世界，后来想学习一门带gc 的托管语言，我不喜欢java(受同事影响)，刚开始学习了kotlin，但是kotlin那时候用的人少，也没有写kotlin的机会，后面对c# 感兴趣，我的带gc的托管语言就转向了c#。

一开始，我对c#的印象是非常正面的。机缘巧合之下，c#一再成为我工作中主要使用的语言，我对c#的印象经历一个从正面到负面，最后稳定在可接受状态的一个过程。可接受状态的原因是：我试图成为一个系统级程序员，而c#不是一个系统级编程语言;C#本身非常优秀，它有微软的强力支持。它的不好的地方也很多(我认为)，但在相关领域不容易找到比他好的替代语言。我主要使用c# ，asp.net 写http server。


## 一门内存安全语言

最近(2023), 内存安全的热度很高。c# 带gc，它是内存安全的，并且在开发过程中，你不需要为这种安全付出任何代价，另外，又基于微软的强大实力，c#作为gc语言，性能非常的高。

Rust是默认内存安全的，但是需要遵守一定的规则来编写内存安全的代码，这需要额外的心智负担。

c/c++ 在内存安全上的强制要求很少，相比容易写出内存不安全的代码，写内存安全的代码需要更多的心智负担。

Js 或者python 或者 java 也是内存安全的，但是它们没有c#性能高。

这种内存安全也并非没有代价，如果写c#代码没有资源管理的概念，那么程序会占用较多的资源。new 是安全的，但不应当肆无忌惮的 new，知道new 的代价是必要的。

## 圈子封闭

c# 并不试图让你了解外面的世界，不试图让你成长。

微软的圈子是封闭的圈子。C#一开始并不开源。

我有一种感觉，微软的东西试图让使用者变得越来越傻，这应该是暴论。

微软会在它的免费产品中夹杂一堆私货，而让人付钱的一个方式，是降低他的思考，我不知道这是不是阴谋论。

对我来说，正确的使用c#的方式，是把它当成一个用完就扔的工具，不需要深入了解c#。

只活在微软圈子的程序员，喜欢拖拉拽，不喜欢命令行，与外部编程世界割裂。

随着.net 的开源和跨平台，这种情况有了改善，但还是有这种味道。

## 复杂的语言

复杂不是一件好事。

目前(2023)，C#可以写windows 桌面，winform MAUI；安卓 IOS MacOs桌面/客户端程序:MAUI; HttpServer:Asp.net;
甚至可以代替Js 利用 webassembly 写web前端...

作为一个Gc程序，它也有许多Native 不Gc的特性。

UNIX 哲学艺术之一：做一件事把它做到最好。

如果你认同这个，然后再来审视c#，你会发现c#做每件事情，然后每件事情都没有做到最好，C#的每个工作领域都有不相上下甚至是超越的同类替代品。传统桌面 有 electron 和qt,移动端跨平台有 qt Flutter; webserver 有一堆 比如 SpringBoot；web前端，使用c#不使用js的理由是什么？

**C#做这么多功能，可能是微软想造一个封闭圈子的原因。**

C# 在做了跨平台之后，又有了生态的割裂。。。

C++的复杂是出于性能的必要之恶，c#的复杂对开发人员来说则完全没道理。微软让c# 承担了太多东西。

不过，c#有gc兜底，只关注c#的一个方面也还算可以，虽然有时候会感到割裂。

## 风格与大家不同

C#的风格直观与大家不同的是 `{` 另起一行，变脸函数名 首字母 大写。

同时写C#和其它编程语言代码，比如js python c++ 会有混乱的感觉，微软的东西就是和大家不一样，这个真的影响很大。


## 面向对象

一坨一坨的。

面向对象的目的是试图建立一个适合业务需求的对象模型，但每个人的需求都不一样，所以糊来糊去，就一层包着一层，各种乱七八糟的class 。 新出的语言似乎都不喜欢面向对象范式，go rust zig。


## 总结

微软实力强大，它出的东西就是有更好的质量；同时微软想造一个封闭的圈子，然后让你呆在里面，你在这个圈子里待多了出去后，就会不适应;如果在这个圈子里能解决所有问题，那么也很好，但是微软并不能单挑全世界，你需要走出去，然后就会不适应。相对的，你从外面的圈子进入微软的圈子，会发现这里"与众不同"，不仅是编程语言和工具，还有程序员。。。

很多人不喜欢微软，不知道是不是这个原因。

回到c#，它质量很高，但是微软的私货也不少。现在微软和.net 越来越开放，我们能看到明显的转变，vscode 或者 .net 的MIT开源协议，这种转变也造成了一些割裂。

我是看好.net 和c# 的未来的，毕竟微软从开放中赚到了钱。
